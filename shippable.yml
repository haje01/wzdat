build_environment: Ubuntu 14.04

language: python

python:
    - "2.7"

before_install:
    - "sudo apt-get -qq -y install libatlas-base-dev gfortran libpng-dev  libfreetype6-dev libxft-dev"
    - "sudo apt-get -qq -y install libhdf5-serial-dev"

install: 
    - "pip install numpy scipy matplotlib pandas pyzmq pygments ipython"
    - "pip install numexpr python-coveralls"
    - "pip install cython==0.20.2"
    - "pip install -r requirements.txt"
    - "pip install -e ."

before_script:
    mkdir -p shippable/testresults
    mkdir -p shippable/codecoverage

script:
    - nosetests --with-xunit --xunit-file=shippable/testresults/nosetests.xml
    - coverage run --source=wzdat --branch setup.py test
    - coverage xml -o shippable/codecoverage/coverage.xml

after_success:
    #- coveralls
